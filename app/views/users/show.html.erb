<style>

    .record td {
        color: #000;
        padding: 10px !important;
        font-size: 14px;
    }

    .record td strong {
        font-size: 14px;
        font-style: normal;
        color: #3465a4;
    }

</style>

<table class="record" style="margin: auto; font-size: 18px; border: none; min-width: 400px; margin-top: 40px;">
  <tr>
    <td colspan="3">
      <p id="notice"><%= notice %></p>
    </td>
  </tr>
  <tr>
    <th colspan="3" style="text-align: center !important; border-bottom: 1px solid #666; padding: 10px !important;">
      Detailed User Details
    </th>
  </tr>
  <tr>
    <th colspan="3" style="text-align: center !important; padding: 10px !important;">
      &nbsp;
    </th>
  </tr>

  <tr>
    <td align="right">
      <strong>Username</strong>
    </td>
    <td>
      :
    </td>
    <td align="left">
      <%= @user.username %>
    </td>
  </tr>

  <tr>
    <td align="right">
      <strong>First Name</strong>
    </td>
    <td>
      :
    </td>
    <td align="left">
      <%= @user.first_name %>
    </td>
  </tr>

  <tr>
    <td align="right">
      <strong>Last Name</strong>
    </td>
    <td>
      :
    </td>
    <td align="left">
      <%= @user.last_name %>
    </td>
  </tr>

  <tr>
    <td align="right">
      <strong>Role</strong>
    </td>
    <td>
      :
    </td>
    <td align="left">
      <%= @user.role %>
    </td>
  </tr>

  <tr>
    <td align="right">
      <strong>Email</strong>
    </td>
    <td>
      :
    </td>
    <td align="left">
      <%= @user.email %>
    </td>
  </tr>

  <tr>
    <td align="right">
      <strong>Status</strong>
    </td>
    <td>
      :
    </td>
    <td align="left">
      <%= (@user.active ? "ACTIVE" : "BLOCKED") %>
    </td>
  </tr>

  <tr>
    <td align="right">
      <strong>Created</strong>
    </td>
    <td>
      :
    </td>
    <td align="left">
      <%= @user.created_at.to_date.strftime("%d/%b/%Y") rescue nil %>
    </td>
  </tr>

  <tr>
    <td align="right">
      <strong>Updated</strong>
    </td>
    <td>
      :
    </td>
    <td align="left">
      <%= @user.updated_at.to_date.strftime("%d/%b/%Y") rescue nil %>
    </td>
  </tr>

  <tr>
    <th colspan="3" style="text-align: center !important; padding: 10px !important;">
      &nbsp;
    </th>
  </tr>

  <% if ["block", "unblock"].include?(params["cat"]) %>

      <tr>
        <th colspan="3" style="text-align: center !important; padding: 10px !important;">
          <button id="btnAction" class="<%= (params["cat"] == "block" ? "red" : "green") %>" style="cursor: pointer;
                  border: 1px solid #fff; padding: 5px; border-radius: 50px; padding-top: 7px; z-index: 1200;
                  font-size: 13px; min-height: 25px;" onclick="<%= (params["cat"] == "block" ? "blockUser('#{@user.id}')" : "unBlockUser('#{@user.id}')") %>">
            <%= (params["cat"] == "block" ? "Block User" : "Unblock User") %>
          </button>
        </th>
      </tr>

  <% end %>

</table>

<script>

    function __$(id) {
        return document.getElementById(id);
    }

    function blockUser(id) {

        if (confirm("Do you really want to block username '" + id + "'")) {

            window.location = "/block_user/" + id;

        }

    }

    function unBlockUser(id) {

        window.location = "/unblock_user/" + id;

    }

</script>

